# R API client for namsor

NamSor API v2 : enpoints to process personal names (gender, cultural origin or ethnicity) in all alphabets or languages. Use GET methods for small tests, but prefer POST methods for higher throughput (batch processing of up to 100 names at a time). Need something you can't find here? We have many more features coming soon. Let us know, we'll do our best to add it! 

## Overview
This API client was generated by the [OpenAPI Generator](https://openapi-generator.tech) project. By using the [OpenAPI spec](https://openapis.org) from a remote server, you can easily generate an API client.

- API version: 2.0.9
- Package version: 1.0.0
- Build package: org.openapitools.codegen.languages.RClientCodegen
For more information, please visit [http://www.namsor.com/](http://www.namsor.com/)

## Installation
You'll need the `devtools` package in order to build the API.
Make sure you have a proper CRAN repository from which you can download packages.

### Prerequisites
Install the `devtools` package with the following command.
```R
if(!require(devtools)) { install.packages("devtools") }
```

### Installation of the API package
Make sure you set the working directory to where the API code is located.
Then execute
```R
library(devtools)
install(".")
```
This is an example for processing a CSV file : 
```R
library(namsor)
setwd("D:/Sync/Dropbox/NamSor_CarmenAguilarGarcia/")
names<-read.csv("combine.csv",header = F)

str(names)
names$V1<-as.character(names$V1)
names$V2<-as.character(names$V2)
names$V3<-as.character(names$V3)




gendercolcol<-vector(length = 10^6)
b<-1
c<-1000

for (i in 1:1000) {

  namesnames<-names[b:c,]
 
  r_gender<-c()
   
  for (t in 1:1000){
  for (o in  namesnames$V2[t]) {
    for (a in namesnames$V3[t]) {
      y <- PersonalNameGeoIn$new(as.character(t+1),o,a)
    }
    r_gender <- c(r_gender,y) 
  }
  
}

var_gender <- BatchPersonalNameGeoIn$new(personalNames = r_gender)


api.instance <- PersonalApi$new()
api.instance$apiClient$apiKeys['X-API-KEY'] <- '<your API key>';
result_gender <- api.instance$GenderFullGeoBatch(batch.personal.name.geo.in=var_gender)

gendercol<-vector(length = 1000)

for (n in 1:1000) {
  #print(result_gender$personalNames[[n]]$likelyGender)
  genderdata <- result_gender$personalNames[[n]]$likelyGender
  gendercol[n] <- genderdata
  
}


gendercolcol[b:c]<-gendercol

b<-b+1000
c<-c+1000

print(i)

}

names<-cbind(names,gendercolcol)

write.csv(names,"names.csv")

```


## Author

contact@namsor.com

